# Put this file to one of the location, with descending priority
#    ./master.toml
#    $HOME/.seaweedfs/master.toml
#    /etc/seaweedfs/master.toml
# this file is read by master

[master.maintenance]
# periodically run these scripts are the same as running them from 'weed shell'
#scripts = """
#  ec.encode -fullPercent=95 -quietFor=1h
#  ec.rebuild -force
#  ec.balance -force
#  volume.balance -force
#  volume.fix.replication
#"""
sleep_minutes = 17          # sleep minutes between each script execution

[master.filer]
default = "localhost:8888"    # used by maintenance scripts if the scripts needs to use fs related commands


[master.sequencer]
type = "memory"     # Choose [memory|etcd] type for storing the file id sequence
# when sequencer.type = etcd, set listen client urls of etcd cluster that store file id sequence
# example : http://127.0.0.1:2379,http://127.0.0.1:2389
sequencer_etcd_urls = "http://127.0.0.1:2379"


# configurations for tiered cloud storage
# old volumes are transparently moved to cloud for cost efficiency
#[storage.backend]
#        [storage.backend.s3.default]
#        enabled = false
#        aws_access_key_id     = ""     # if empty, loads from the shared credentials file (~/.aws/credentials).
#        aws_secret_access_key = ""     # if empty, loads from the shared credentials file (~/.aws/credentials).
#        region = "us-east-2"
#        bucket = "your_bucket_name"    # an existing bucket
#        endpoint = ""

# create this number of logical volumes if no more writable volumes
# count_x means how many copies of data.
# e.g.:
#   000 has only one copy, copy_1
#   010 and 001 has two copies, copy_2
#   011 has only 3 copies, copy_3
[master.volume_growth]
copy_1 = 1                # create 1 x 7 = 7 actual volumes
copy_2 = 1                # create 2 x 6 = 12 actual volumes
copy_3 = 1                # create 3 x 3 = 9 actual volumes
copy_other = 1            # create n x 1 = n actual volumes

# configuration flags for replication
[master.replication]
# any replication counts should be considered minimums. If you specify 010 and
# have 3 different racks, that's still considered writable. Writes will still
# try to replicate to all available volumes. You should only use this option
# if you are doing your own replication or periodic sync of volumes.
treat_replication_as_minimums = false
